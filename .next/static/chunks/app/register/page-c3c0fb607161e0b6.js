(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5136:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(5155),a=r(2115),n=r(7376),i=r.n(n),o=r(6874),p=r.n(o),l=r(5695);function u(){let[e,s]=(0,a.useState)({username:"",password:"",confirmPassword:""}),[r,n]=(0,a.useState)(""),o=(0,l.useRouter)(),u=r=>{s({...e,[r.target.name]:r.target.value})},c=async s=>{if(s.preventDefault(),n(""),e.password!==e.confirmPassword){n("❌ Пароли не совпадают!");return}try{let s=await fetch("".concat("https://form-mongodb-nextjs-expressjs-production.up.railway.app","/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();if(!s.ok)throw Error(r.error||"Ошибка регистрации");setTimeout(()=>o.push("/"),1e3),n("✅ Регистрация успешна!")}catch(e){n(e.message)}};return(0,t.jsx)("div",{className:i().container,children:(0,t.jsxs)("div",{className:i().formWrapper,children:[(0,t.jsx)("h2",{className:i().title,children:"Регистрация"}),r&&(0,t.jsx)("p",{className:i().message,children:r}),(0,t.jsxs)("form",{onSubmit:c,children:[(0,t.jsx)("input",{className:i().input,type:"text",name:"username",placeholder:"Логин",onChange:u,required:!0}),(0,t.jsx)("input",{className:i().input,type:"password",name:"password",placeholder:"Пароль",onChange:u,required:!0}),(0,t.jsx)("input",{className:i().input,type:"password",name:"confirmPassword",placeholder:"Подтвердите пароль",onChange:u,required:!0}),(0,t.jsx)("button",{className:i().button,type:"submit",children:"Зарегистрироваться"})]}),(0,t.jsxs)("p",{className:i().toggle,children:["Уже есть аккаунт? ",(0,t.jsx)(p(),{href:"/",children:"Войти"})]})]})})}},7376:e=>{e.exports={container:"register_container__ZDvLI",formWrapper:"register_formWrapper__T_SwN",title:"register_title__sRyfD",message:"register_message__y1swX",input:"register_input__3xGuf",button:"register_button__BA9bk",toggle:"register_toggle__2WZO7"}},8540:(e,s,r)=>{Promise.resolve().then(r.bind(r,5136))}},e=>{var s=s=>e(e.s=s);e.O(0,[675,244,441,684,358],()=>s(8540)),_N_E=e.O()}]);